<ion-split-pane contentId="main">
  <ion-menu side="start" contentId="main">
    <ion-header class="card-background-page">
      <ion-card>
        <img src="../../../assets/images/b1.png" />
        <ion-avatar class="card-avatar ion-margin" *ngIf="user.image">
          <img src="{{user.image}}" />
        </ion-avatar>
        <ion-avatar class="card-avatar ion-margin" *ngIf="!user.image">
          <img src="../../../assets/images/avatar.svg" />
        </ion-avatar>

        <div class="card-title">Inspections App</div>
        <div class="card-subtitle">{{user.completeName}}</div>
        <div class="card-subtitle2">v5.4.0</div>
      </ion-card>
    </ion-header>
    <ion-content>
      <ion-list>
        <ion-menu-toggle auto-hide="false" *ngFor="let page of pages">
          <ion-item
            class="clickable"
            button
            [routerLink]="page.url"
            routerDirection="root"
            [class.active-menu]="page.url.startsWith(activePath)"
          >
            {{page.title}}
          </ion-item>
        </ion-menu-toggle>
        <ion-menu-toggle auto-hide="false">
          <ion-item lines="none" (click)="userWantsToGetFromServer()">
            <ion-icon
              color="primary"
              slot="start"
              name="cloud-download-outline"
            ></ion-icon>
            <ion-label>Get Deals from Bitrix</ion-label>
          </ion-item>
          <ion-item lines="none" (click)="userWantsToSync()">
            <ion-icon
              slot="start"
              color="secondary"
              name="cloud-upload-outline"
            ></ion-icon>
            <ion-label>Sync Pending to Bitrix</ion-label>
          </ion-item>

          <ion-item lines="none">
            <ion-icon slot="start" name="moon"></ion-icon>
            <ion-label> Toggle Dark Theme </ion-label>
            <ion-toggle
              (ionChange)="userWantsToChangeTheme($event)"
              id="themeToggle"
              [(ngModel)]="darkMode"
              slot="end"
            ></ion-toggle>
          </ion-item>
        </ion-menu-toggle>
      </ion-list>
    </ion-content>
    <ion-footer>
      <ion-list>
        <ion-item button (click)="userWantsToLogout()" menuClose>
          <ion-icon name="power" slot="start"></ion-icon>
          <ion-label>Sign out</ion-label>
        </ion-item>
      </ion-list>
    </ion-footer>
  </ion-menu>

  <ion-router-outlet id="main" main></ion-router-outlet>
</ion-split-pane>

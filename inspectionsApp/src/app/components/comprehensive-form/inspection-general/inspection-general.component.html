<ion-item (click)="toggleAccordion()" lines="full" button>
  <ion-label>
    <h2>General</h2>
  </ion-label>

  <ion-icon
    slot="start"
    color="success"
    *ngIf="progressPercentage >= 1"
    name="checkmark-circle-outline"
  ></ion-icon>
  <ion-icon slot="end" *ngIf="!isMenuOpen" name="caret-down-outline"></ion-icon>
  <ion-icon slot="end" *ngIf="isMenuOpen" name="caret-up-outline"></ion-icon>
</ion-item>
<ion-progress-bar
  color="{{ progressColor }}"
  value="{{ progressPercentage }}"
></ion-progress-bar>
<div *ngIf="isMenuOpen">
  <ion-item>
    <ion-label position="floating">Property Year</ion-label>
    <ion-input
      [(ngModel)]="generalInfoInspection.propertyYear"
      (ionChange)="changeModel($event)"
      name="propertyYear"
      [disabled]="readonly"
      type="number"
      required
    ></ion-input>
  </ion-item>

  <ion-item>
    <ion-label position="floating">Property Type</ion-label>
    <ion-select
      interface="popover"
      name="propertyType"
      [disabled]="readonly"
      (ionChange)="changeModel($event)"
      [(ngModel)]="generalInfoInspection.propertyType"
    >
      <ion-select-option
        *ngFor="let item of propertyTypeList; let i = index"
        [value]="item.value"
      >
        {{ item.name }}</ion-select-option
      >
    </ion-select>
  </ion-item>

  <app-slides-photos
    title="Picture of House Number"
    ngDefaultControl
    [readonly]="readonly"
    name="pictureHouseNumbers"
    [(ngModel)]="generalInfoInspection.pictureHouseNumbers"
    (photoChanged)="changeModel($event)"
  ></app-slides-photos>

  <app-slides-photos
    title="Pictures of front house"
    ngDefaultControl
    [readonly]="readonly"
    name="picturesFrontHouse"
    [(ngModel)]="generalInfoInspection.picturesFrontHouse"
    (photoChanged)="changeModel($event)"
  ></app-slides-photos>

  <div *ngIf="generalInfoInspection.environmentalInspection === true">
    <ion-item>
      <ion-label position="floating">Interior temperature</ion-label>
      <ion-input
        [(ngModel)]="generalInfoInspection.interiorTemperature"
        (ionChange)="changeModel($event)"
        [readonly]="readonly"
        name="interiorTemperature"
        type="number"
        required
      ></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Exterior Relative Humidity %</ion-label>
      <ion-input
        [(ngModel)]="generalInfoInspection.exteriorRelativeHumidity"
        (ionChange)="changeModel($event)"
        name="exteriorRelativeHumidity"
        type="number"
        [readonly]="readonly"
        required
      ></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating">HVAC System Condition</ion-label>
      <ion-select
        interface="popover"
        name="HVACSystemCondition"
        [disabled]="readonly"
        (ionChange)="changeModel($event)"
        [(ngModel)]="generalInfoInspection.HVACSystemCondition"
      >
        <ion-select-option
          *ngFor="let item of HHVACConditions; let i = index"
          [value]="item.value"
        >
          {{ item.name }}</ion-select-option
        >
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Ducts Condition</ion-label>
      <ion-select
        interface="popover"
        name="ductsCondition"
        [disabled]="readonly"
        (ionChange)="changeModel($event)"
        [(ngModel)]="generalInfoInspection.ductsCondition"
      >
        <ion-select-option
          *ngFor="let item of DuctConditions; let i = index"
          [value]="item.value"
        >
          {{ item.name }}</ion-select-option
        >
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Attic Condition</ion-label>
      <ion-select
        interface="popover"
        [disabled]="readonly"
        name="atticCondition"
        (ionChange)="changeModel($event)"
        [(ngModel)]="generalInfoInspection.atticCondition"
      >
        <ion-select-option
          *ngFor="let item of AticConditions; let i = index"
          [value]="item.value"
        >
          {{ item.name }}</ion-select-option
        >
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Water Damage Category</ion-label>
      <ion-select
        interface="popover"
        name="waterDamageCategory"
        [disabled]="readonly"
        (ionChange)="changeModel($event)"
        [(ngModel)]="generalInfoInspection.waterDamageCategory"
      >
        <ion-select-option
          *ngFor="let item of waterDamageCategories; let i = index"
          [value]="item.value"
        >
          {{ item.name }}</ion-select-option
        >
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Water Damage Class</ion-label>
      <ion-select
        interface="popover"
        name="waterDamageCategory"
        [disabled]="readonly"
        (ionChange)="changeModel($event)"
        [(ngModel)]="generalInfoInspection.waterDamageClass"
      >
        <ion-select-option
          *ngFor="let item of waterDamageClasses; let i = index"
          [value]="item.value"
        >
          {{ item.name }}</ion-select-option
        >
      </ion-select>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Type of Loss & Description</ion-label>
      <ion-textarea
        [(ngModel)]="task.typeOfLossDesc"
        name="typeOfLossDesc"
        type="text"
      ></ion-textarea>
    </ion-item>

    <ion-item>
      <ion-label position="floating">Affected Area</ion-label>
      <ion-textarea
        [(ngModel)]="task.affectedArea"
        name="affectedArea"
        type="text"
      ></ion-textarea>
    </ion-item>
  </div>
    <ion-item
    (click)="toggleAccordion()"
    lines="none"
    button
    class="ion-no-margin"
    detail="false"
  >
    <ion-label color="warning"> {{ "End General" }}</ion-label>

    <ion-icon
      slot="end"
      *ngIf="!isMenuOpen"
      name="caret-down-outline"
    ></ion-icon>
    <ion-icon slot="end" *ngIf="isMenuOpen" name="caret-up-outline"></ion-icon>
  </ion-item>
</div>
